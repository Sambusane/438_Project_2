(this["webpackJsonpwishlisht-frontend"]=this["webpackJsonpwishlisht-frontend"]||[]).push([[0],{18:function(e,t,a){},40:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(34),r=a.n(i),c=(a(40),a(20)),o=(a(18),a(12)),h=a(0),l=function(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)("h1",{children:"Welcome"}),Object(h.jsx)("br",{}),Object(h.jsx)(o.b,{className:"button",to:"/login",children:"Login"}),Object(h.jsx)("br",{}),Object(h.jsx)(o.b,{className:"button",to:"/signup",children:"Signup"})]})},u=a(2),d=a.n(u),j=a(11),m=a(6),b=a(7),p=a(3),O=a(9),f=a(8),g=a(4),x=a.n(g),v=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={dset:s.props.dataSetter,username:s.props.uName},s.logout=s.logout.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"logout",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x.a.get("/api/logout").then((function(e){console.log(e),a.state.dset("",!1,""),window.location.href="/"})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("h1",{children:"Wish List"}),Object(h.jsxs)("div",{className:"links",children:[Object(h.jsx)(o.b,{to:"/",children:" Home "}),Object(h.jsx)(o.b,{to:"/search",children:" Search "}),"ADMIN"===this.props.uName?Object(h.jsx)(o.b,{to:"/admin",children:" Admin "}):null,""===this.props.uName?Object(h.jsx)("a",{className:"logout",children:" Please Log In "}):Object(h.jsx)("a",{className:"logout",onClick:this.logout,children:"Log Out "}),""===this.props.uName?Object(h.jsx)("a",{className:"logout",children:"  "}):Object(h.jsx)("a",{className:"logout",children:"Welcome! "}),this.props.uName]})]})}}]),a}(n.a.Component),y=a(5);x.a.defaults.headers.post["Content-Type"]="application/json";var N=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={username:s.props.name,password:"",userId:s.props.id,loggedIn:s.props.log,user:[],dSetter:s.props.dataSetter},s.handleChangeUsername=s.handleChangeUsername.bind(Object(p.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"/api/login",a={username:this.state.username,password:this.state.password},a=JSON.stringify(a),x.a.post("/api/login",a).then((function(e){s.setState({user:e.data}),s.checkTheData()})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkTheData",value:function(){"no users"===this.state.user.msg?alert("username not found."):"Incorrect password"===this.state.user.msg?alert("Incorrect Password"):(this.setState({username:this.state.user.username}),this.setState({loggedIn:this.state.user.loggedIn}),this.setState({userId:this.state.user.userId}),this.setState({password:""}),this.state.dSetter(this.state.username,this.state.loggedIn,this.state.user.userId),alert("Successfully logged in"))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"login",children:Object(h.jsxs)("div",{className:"subLog",children:[Object(h.jsxs)("h1",{children:["Please Log In ",this.state.isLoggedIn]}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("p",{className:"formTitle",children:" Username"}),Object(h.jsx)("input",{type:"text",placeholder:"username",value:this.state.username,onChange:this.handleChangeUsername}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Password"}),Object(h.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handleChangePassword}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]}),!0===this.state.loggedIn?Object(h.jsx)(y.a,{push:!0,to:{pathname:"/itemList",state:{id:this.state.user.userId}}}):null]})})}}]),a}(n.a.Component);x.a.defaults.headers.post["Content-Type"]="application/json";var S=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={username:"",password:"",email:"",firstName:"",lastName:"",userId:"",user:[]},s.handleChangeUsername=s.handleChangeUsername.bind(Object(p.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(p.a)(s)),s.handleChangeEmail=s.handleChangeEmail.bind(Object(p.a)(s)),s.handleChangeFirstName=s.handleChangeFirstName.bind(Object(p.a)(s)),s.handleChangeLastName=s.handleChangeLastName.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"/api/signup",a={username:this.state.username,password:this.state.password,email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName},a=JSON.stringify(a),x.a.post("/api/signup",a).then((function(e){console.log(e),s.setState({user:e.data}),s.verifyData()})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"verifyData",value:function(){"duplicate username"===this.state.user.msg?alert("Username is already in use."):"password is too short"===this.state.user.msg?alert("Password needs to be at least 6 characters long."):"password needs number."===this.state.user.msg?alert("Password needs to include a number."):"password needs capital letter"===this.state.user.msg?alert("Password needs to include a capital letter."):"password needs a special character"===this.state.user.msg?alert("Password needs to include a special character."):alert("You are now registered.")}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"signup",children:Object(h.jsxs)("div",{className:"subSignup",children:[Object(h.jsx)("h1",{children:" Register "}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("p",{className:"formTitle",children:" Username"}),Object(h.jsx)("input",{type:"text",placeholder:"username",value:this.state.username,onChange:this.handleChangeUsername}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Password"}),Object(h.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handleChangePassword}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Email"}),Object(h.jsx)("input",{type:"email",placeholder:"email",value:this.state.email,onChange:this.handleChangeEmail}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" First Name"}),Object(h.jsx)("input",{type:"text",placeholder:"firstName",value:this.state.firstName,onChange:this.handleChangeFirstName}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Last Name"}),Object(h.jsx)("input",{type:"text",placeholder:"lastName",value:this.state.lastName,onChange:this.handleChangeLastName}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})]})})}}]),a}(n.a.Component),C=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={filter:{msg:"success"},name:s.props.name,price:s.props.price,image:s.props.image,url:s.props.link},s}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return this.props.msg===this.state.filter.msg?Object(h.jsx)("div",{}):Object(h.jsxs)("div",{className:"items",children:[Object(h.jsx)("h4",{children:this.state.name}),Object(h.jsxs)("h5",{children:["Price = ",this.state.price]}),Object(h.jsx)("button",{onClick:function(){var t=window.open(e.state.url,"_blank","noopener,noreferrer");t&&(t.opener=null)},children:"Link"})]})}}]),a}(n.a.Component);x.a.defaults.headers.post["Content-Type"]="application/json";var k=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={isLoading:!0,data:[],id:s.props.id,empty:{msg:"no items"},isEmpty:!0},s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===this.state.isLoading&&(console.log("I mounted"),t="/api/items/"+this.props.id,x.a.get(t).then((function(e){e.data.msg===a.state.empty.msg?(a.setState({data:[e.data]}),a.setState({isLoading:!1})):(a.setState({data:e.data}),a.setState({isLoading:!1}),a.setState({isEmpty:!1}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===this.state.isLoading&&(console.log("I mounted"),t="/api/items/"+this.props.id,x.a.get(t).then((function(e){e.data.msg===a.state.empty.msg?(a.setState({data:[e.data]}),a.setState({isLoading:!1})):(a.setState({data:e.data}),a.setState({isLoading:!1}),a.setState({isEmpty:!1}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?Object(h.jsxs)("div",{children:["Loading...",Object(h.jsx)("br",{}),Object(h.jsx)(o.b,{className:"addItemLinkButton",to:"/AddItem",children:" Add an Item "})]}):this.state.isEmpty?Object(h.jsx)("div",{children:"No Items"}):Object(h.jsxs)("div",{className:"itemLists",children:[Object(h.jsx)("ul",{children:this.state.data.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(C,{msg:e.msg,name:e.itemName,price:e.itemPrice,link:e.itemLink},e.id)})}))}),Object(h.jsx)("br",{}),Object(h.jsx)(o.b,{className:"addItemLinkButton",to:"/AddItem",children:" Add an Item "})]})}}]),a}(n.a.Component),w=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={filter:{msg:"success"},item:s.props.item},s}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return this.state.item.msg===this.state.filter.msg?Object(h.jsx)("div",{}):Object(h.jsxs)("div",{className:"searchItem",children:[Object(h.jsx)("h4",{children:this.state.item.itemName}),Object(h.jsxs)("h5",{children:["Price: ",this.state.item.itemPrice]}),Object(h.jsx)("button",{onClick:function(){return e.props.buy(e.state.item.itemLink,e.state.item.id,e.state.item.userId)},children:"Buy"})]})}}]),a}(s.Component),I=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={searchname:"",items:[],data:{},empty:{msg:"no users"},isEmpty:!0,message:""},s.handleChangeSearchname=s.handleChangeSearchname.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s.buyItem=s.buyItem.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"handleChangeSearchname",value:function(e){this.setState({searchname:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="/api/search/"+this.state.searchname,this.forceUpdate(),x.a.get(a).then((function(e){s.setState({data:e.data}),s.checkData()})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkData",value:function(){JSON.stringify(this.state.data)===JSON.stringify(this.state.empty)?(this.setState({items:[],isEmpty:"true",message:"User Not found"}),alert("User not found")):(this.setState({isEmpty:"false"}),this.setState({items:this.state.data}))}},{key:"buyItem",value:function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var n,i,r,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),(n=window.open(t,"_blank","noopener,noreferrer"))&&(n.opener=null),this.setState({items:this.state.items.filter((function(e){return e.id!==a}))}),this.forceUpdate(),i="/api/items/"+a,r="/api/items/"+s,x.a.delete(i).then((function(e){console.log(e.data),x.a.get(r).then((function(e){c.setState({data:e.data}),c.checkData()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"Search",children:[Object(h.jsxs)("div",{className:"Searchform",children:[Object(h.jsx)("h1",{children:"Please enter a username"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",placeholder:"",value:this.state.searchname,onChange:this.handleChangeSearchname}),Object(h.jsx)("button",{className:"searchButton",onClick:this.handleSubmit,children:"Search"}),Object(h.jsx)("br",{})]}),Object(h.jsx)("div",{className:"Results",children:!0===this.state.isEmpty?Object(h.jsx)("h4",{children:this.state.message}):this.state.items.map((function(t){return Object(h.jsx)(w,{item:t,buy:e.buyItem},t.id)}))})]})}}]),a}(n.a.Component);x.a.defaults.headers.post["Content-Type"]="application/json";var L=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={itemName:"",itemDescription:"",itemPrice:"",itemLink:"",id:s.props.id,item:[]},s.handleChangeItemName=s.handleChangeItemName.bind(Object(p.a)(s)),s.handleChangeItemPrice=s.handleChangeItemPrice.bind(Object(p.a)(s)),s.handleChangeItemDescription=s.handleChangeItemDescription.bind(Object(p.a)(s)),s.handleChangeItemLink=s.handleChangeItemLink.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"handleChangeItemName",value:function(e){this.setState({itemName:e.target.value})}},{key:"handleChangeItemPrice",value:function(e){this.setState({itemPrice:e.target.value})}},{key:"handleChangeItemDescription",value:function(e){this.setState({itemDescription:e.target.value})}},{key:"handleChangeItemLink",value:function(e){this.setState({itemLink:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="/api/items/"+this.props.id,s={itemName:this.state.itemName,itemPrice:this.state.itemPrice,itemDescription:this.state.itemDescription,itemLink:this.state.itemLink},s=JSON.stringify(s),x.a.post(a,s).then((function(e){console.log(e),n.setState({item:e.data})})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsx)("div",{className:"addItem",children:Object(h.jsxs)("div",{className:"subAddItem",children:[Object(h.jsx)("h1",{children:" Add an Item "}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("p",{className:"formTitle",children:" Item Name"}),Object(h.jsx)("input",{type:"text",placeholder:"",value:this.state.itemName,onChange:this.handleChangeItemName}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Price"}),Object(h.jsx)("input",{type:"text",placeholder:"",value:this.state.itemPrice,onChange:this.handleChangeItemPrice}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Item Description"}),Object(h.jsx)("input",{type:"text",placeholder:"",value:this.state.itemDescription,onChange:this.handleChangeItemDescription}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"formTitle",children:" Link"}),Object(h.jsx)("input",{type:"text",placeholder:"",value:this.state.itemLink,onChange:this.handleChangeItemLink}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})]})})}}]),a}(n.a.Component),P=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={},s}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"searchItem",children:[Object(h.jsx)("h4",{children:this.props.user.username}),Object(h.jsxs)("h5",{children:["Name: ",this.props.user.firstname," ",this.props.user.lastname]}),Object(h.jsx)("button",{onClick:function(){return e.props.onClick(e.props.user.username)},children:"DELETE"})]})}}]),a}(s.Component),D=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={users:[]},s.deleteTheUser=s.deleteTheUser.bind(Object(p.a)(s)),s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/api/users",x.a.get("/api/users").then((function(e){t.setState({users:e.data})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTheUser",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="/api/user/"+t,x.a.delete(a).then((function(e){console.log(e.data),s.state.users.filter((function(e){return e.username!==t})),x.a.get("/api/users").then((function(e){s.setState({users:e.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"admin",children:[Object(h.jsx)("h1",{children:"Users"}),Object(h.jsxs)("div",{className:"users",children:[Object(h.jsx)("br",{}),this.state.users.map((function(t){return Object(h.jsx)(P,{user:t,onClick:e.deleteTheUser},t.id)}))]})]})}}]),a}(s.Component);var T=function(){var e=Object(s.useState)((function(){return""})),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)((function(){return!1})),r=Object(c.a)(i,2),u=r[0],d=r[1],j=Object(s.useState)((function(){return""})),m=Object(c.a)(j,2),b=m[0],p=m[1];function O(e,t,a){n(e),d(t),p(a)}return Object(s.useEffect)((function(){!1===u&&x.a.get("/api/login").then((function(e){n(e.data.username),d(e.data.loggedIn),p(e.data.userId)}))}),[u]),Object(h.jsx)(o.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(v,{uName:a,dataSetter:O.bind(this)}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)(y.d,{children:[Object(h.jsx)(y.b,{exact:!0,path:"/",children:u?Object(h.jsx)(y.a,{to:{pathname:"/itemList",state:{id:{userId:b}}}}):Object(h.jsx)(l,{})}),Object(h.jsx)(y.b,{path:"/login",children:Object(h.jsx)(N,{name:a,id:b,log:u,dataSetter:O.bind(this)})}),Object(h.jsx)(y.b,{path:"/signup",children:Object(h.jsx)(S,{})}),Object(h.jsx)(y.b,{path:"/itemlist",children:Object(h.jsx)(k,{id:b})}),Object(h.jsx)(y.b,{path:"/search",children:Object(h.jsx)(I,{})}),Object(h.jsx)(y.b,{path:"/admin",children:Object(h.jsx)(D,{})}),Object(h.jsx)(y.b,{path:"/AddItem",children:Object(h.jsx)(L,{id:b})})]})})]})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root")),U()}},[[66,1,2]]]);
//# sourceMappingURL=main.f432fd88.chunk.js.map