(this["webpackJsonpwishlisht-frontend"]=this["webpackJsonpwishlisht-frontend"]||[]).push([[0],{18:function(e,t,a){},40:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(34),r=a.n(i),c=(a(40),a(20)),o=(a(18),a(0)),h=function(){return Object(o.jsxs)("div",{className:"home",children:[Object(o.jsx)("h1",{children:"Welcome"}),Object(o.jsx)("br",{}),Object(o.jsx)("a",{className:"button",href:"signup",children:"Sign Up "}),Object(o.jsx)("br",{}),Object(o.jsx)("a",{className:"button",href:"login",children:"Login "})]})},l=a(2),u=a.n(l),d=a(11),j=a(6),m=a(7),b=a(3),p=a(9),O=a(8),f=a(16),g=a(4),v=a.n(g),x=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={dset:s.props.dataSetter,username:s.props.uName},s.logout=s.logout.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"logout",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v.a.get("/logout").then((function(e){console.log(e),a.state.dset("",!1,""),window.location.href="/"})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)("h1",{children:"Wish List"}),Object(o.jsxs)("div",{className:"links",children:[Object(o.jsx)(f.b,{to:"/",children:" Home "}),Object(o.jsx)(f.b,{to:"/search",children:" Search "}),"ADMIN"===this.props.uName?Object(o.jsx)(f.b,{to:"/admin",children:" Admin "}):null,""===this.props.uName?Object(o.jsx)("a",{className:"logout",children:" Please Log In "}):Object(o.jsx)("a",{className:"logout",onClick:this.logout,children:"Log Out "}),""===this.props.uName?Object(o.jsx)("a",{className:"logout",children:"  "}):Object(o.jsx)("a",{className:"logout",children:"Welcome! "}),this.props.uName]})]})}}]),a}(n.a.Component),y=a(5);v.a.defaults.headers.post["Content-Type"]="application/json";var N=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={username:s.props.name,password:"",userId:s.props.id,loggedIn:s.props.log,user:[],dSetter:s.props.dataSetter},s.handleChangeUsername=s.handleChangeUsername.bind(Object(b.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"/login",a={username:this.state.username,password:this.state.password},a=JSON.stringify(a),v.a.post("/login",a).then((function(e){s.setState({user:e.data}),s.checkTheData()})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkTheData",value:function(){"no users"===this.state.user.msg?alert("username not found."):"Incorrect password"===this.state.user.msg?alert("Incorrect Password"):(this.setState({username:this.state.user.username}),this.setState({loggedIn:this.state.user.loggedIn}),this.setState({userId:this.state.user.userId}),this.setState({password:""}),this.state.dSetter(this.state.username,this.state.loggedIn,this.state.user.userId),alert("Successfully logged in"))}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"login",children:Object(o.jsxs)("div",{className:"subLog",children:[Object(o.jsxs)("h1",{children:["Please Log In ",this.state.isLoggedIn]}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsx)("p",{className:"formTitle",children:" Username"}),Object(o.jsx)("input",{type:"text",placeholder:"username",value:this.state.username,onChange:this.handleChangeUsername}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Password"}),Object(o.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handleChangePassword}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Submit"})]}),!0===this.state.loggedIn?Object(o.jsx)(y.a,{push:!0,to:{pathname:"/itemList",state:{id:this.state.user.userId}}}):null]})})}}]),a}(n.a.Component);v.a.defaults.headers.post["Content-Type"]="application/json";var S=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={username:"",password:"",email:"",firstName:"",lastName:"",userId:"",user:[]},s.handleChangeUsername=s.handleChangeUsername.bind(Object(b.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(b.a)(s)),s.handleChangeEmail=s.handleChangeEmail.bind(Object(b.a)(s)),s.handleChangeFirstName=s.handleChangeFirstName.bind(Object(b.a)(s)),s.handleChangeLastName=s.handleChangeLastName.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"/signup",a={username:this.state.username,password:this.state.password,email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName},a=JSON.stringify(a),v.a.post("/signup",a).then((function(e){console.log(e),s.setState({user:e.data}),s.verifyData()})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"verifyData",value:function(){"duplicate username"===this.state.user.msg?alert("Username is already in use."):"password is too short"===this.state.user.msg?alert("Password needs to be at least 6 characters long."):"password needs number."===this.state.user.msg?alert("Password needs to include a number."):"password needs capital letter"===this.state.user.msg?alert("Password needs to include a capital letter."):"password needs a special character"===this.state.user.msg?alert("Password needs to include a special character."):alert("You are now registered.")}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"signup",children:Object(o.jsxs)("div",{className:"subSignup",children:[Object(o.jsx)("h1",{children:" Register "}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsx)("p",{className:"formTitle",children:" Username"}),Object(o.jsx)("input",{type:"text",placeholder:"username",value:this.state.username,onChange:this.handleChangeUsername}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Password"}),Object(o.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handleChangePassword}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Email"}),Object(o.jsx)("input",{type:"email",placeholder:"email",value:this.state.email,onChange:this.handleChangeEmail}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" First Name"}),Object(o.jsx)("input",{type:"text",placeholder:"firstName",value:this.state.firstName,onChange:this.handleChangeFirstName}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Last Name"}),Object(o.jsx)("input",{type:"text",placeholder:"lastName",value:this.state.lastName,onChange:this.handleChangeLastName}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Submit"})]})]})})}}]),a}(n.a.Component),C=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={filter:{msg:"success"},name:s.props.name,price:s.props.price,image:s.props.image,url:s.props.link},s}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.props.msg===this.state.filter.msg?Object(o.jsx)("div",{}):Object(o.jsxs)("div",{className:"items",children:[Object(o.jsx)("h4",{children:this.state.name}),Object(o.jsxs)("h5",{children:["Price = ",this.state.price]}),Object(o.jsx)("button",{onClick:function(){var t=window.open(e.state.url,"_blank","noopener,noreferrer");t&&(t.opener=null)},children:"Link"})]})}}]),a}(n.a.Component);v.a.defaults.headers.post["Content-Type"]="application/json";var k=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={isLoading:!0,data:[],id:s.props.id,empty:{msg:"no items"},isEmpty:!0},s}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===this.state.isLoading&&(console.log("I mounted"),t="/items/"+this.props.id,v.a.get(t).then((function(e){e.data.msg===a.state.empty.msg?(a.setState({data:[e.data]}),a.setState({isLoading:!1})):(a.setState({data:e.data}),a.setState({isLoading:!1}),a.setState({isEmpty:!1}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===this.state.isLoading&&(console.log("I mounted"),t="/items/"+this.props.id,v.a.get(t).then((function(e){e.data.msg===a.state.empty.msg?(a.setState({data:[e.data]}),a.setState({isLoading:!1})):(a.setState({data:e.data}),a.setState({isLoading:!1}),a.setState({isEmpty:!1}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?Object(o.jsx)("div",{children:"Loading..."}):this.state.isEmpty?Object(o.jsx)("div",{children:"No Items"}):Object(o.jsxs)("div",{className:"itemLists",children:[Object(o.jsx)("ul",{children:this.state.data.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(C,{msg:e.msg,name:e.itemName,price:e.itemPrice,link:e.itemLink},e.id)})}))}),Object(o.jsx)("br",{}),Object(o.jsx)("a",{className:"addItemLinkButton",href:"AddItem",children:" Add an Item "})]})}}]),a}(n.a.Component),w=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={filter:{msg:"success"},item:s.props.item},s}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.state.item.msg===this.state.filter.msg?Object(o.jsx)("div",{}):Object(o.jsxs)("div",{className:"searchItem",children:[Object(o.jsx)("h4",{children:this.state.item.itemName}),Object(o.jsxs)("h5",{children:["Price: ",this.state.item.itemPrice]}),Object(o.jsx)("button",{onClick:function(){return e.props.buy(e.state.item.itemLink,e.state.item.id,e.state.item.userId)},children:"Buy"})]})}}]),a}(s.Component),I=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={searchname:"",items:[],data:{},empty:{msg:"no users"},isEmpty:!0,message:""},s.handleChangeSearchname=s.handleChangeSearchname.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s.buyItem=s.buyItem.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"handleChangeSearchname",value:function(e){this.setState({searchname:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="/search/"+this.state.searchname,this.forceUpdate(),v.a.get(a).then((function(e){s.setState({data:e.data}),s.checkData()})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkData",value:function(){JSON.stringify(this.state.data)===JSON.stringify(this.state.empty)?(this.setState({items:[],isEmpty:"true",message:"User Not found"}),alert("User not found")):(this.setState({isEmpty:"false"}),this.setState({items:this.state.data}))}},{key:"buyItem",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a,s){var n,i,r,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),(n=window.open(t,"_blank","noopener,noreferrer"))&&(n.opener=null),this.setState({items:this.state.items.filter((function(e){return e.id!==a}))}),this.forceUpdate(),i="/items/"+a,r="/items/"+s,v.a.delete(i).then((function(e){console.log(e.data),v.a.get(r).then((function(e){c.setState({data:e.data}),c.checkData()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"Search",children:[Object(o.jsxs)("div",{className:"Searchform",children:[Object(o.jsx)("h1",{children:"Please enter a username"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",placeholder:"",value:this.state.searchname,onChange:this.handleChangeSearchname}),Object(o.jsx)("button",{className:"searchButton",onClick:this.handleSubmit,children:"Search"}),Object(o.jsx)("br",{})]}),Object(o.jsx)("div",{className:"Results",children:!0===this.state.isEmpty?Object(o.jsx)("h4",{children:this.state.message}):this.state.items.map((function(t){return Object(o.jsx)(w,{item:t,buy:e.buyItem},t.id)}))})]})}}]),a}(n.a.Component);v.a.defaults.headers.post["Content-Type"]="application/json";var L=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={itemName:"",itemDescription:"",itemPrice:"",itemLink:"",id:s.props.id,item:[]},s.handleChangeItemName=s.handleChangeItemName.bind(Object(b.a)(s)),s.handleChangeItemPrice=s.handleChangeItemPrice.bind(Object(b.a)(s)),s.handleChangeItemDescription=s.handleChangeItemDescription.bind(Object(b.a)(s)),s.handleChangeItemLink=s.handleChangeItemLink.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"handleChangeItemName",value:function(e){this.setState({itemName:e.target.value})}},{key:"handleChangeItemPrice",value:function(e){this.setState({itemPrice:e.target.value})}},{key:"handleChangeItemDescription",value:function(e){this.setState({itemDescription:e.target.value})}},{key:"handleChangeItemLink",value:function(e){this.setState({itemLink:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="/items/"+this.props.id,s={itemName:this.state.itemName,itemPrice:this.state.itemPrice,itemDescription:this.state.itemDescription,itemLink:this.state.itemLink},s=JSON.stringify(s),v.a.post(a,s).then((function(e){console.log(e),n.setState({item:e.data})})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(o.jsx)("div",{className:"addItem",children:Object(o.jsxs)("div",{className:"subAddItem",children:[Object(o.jsx)("h1",{children:" Add an Item "}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsx)("p",{className:"formTitle",children:" Item Name"}),Object(o.jsx)("input",{type:"text",placeholder:"",value:this.state.itemName,onChange:this.handleChangeItemName}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Price"}),Object(o.jsx)("input",{type:"text",placeholder:"",value:this.state.itemPrice,onChange:this.handleChangeItemPrice}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Item Description"}),Object(o.jsx)("input",{type:"text",placeholder:"",value:this.state.itemDescription,onChange:this.handleChangeItemDescription}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("p",{className:"formTitle",children:" Link"}),Object(o.jsx)("input",{type:"text",placeholder:"",value:this.state.itemLink,onChange:this.handleChangeItemLink}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Submit"})]})]})})}}]),a}(n.a.Component),P=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={},s}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"searchItem",children:[Object(o.jsx)("h4",{children:this.props.user.username}),Object(o.jsxs)("h5",{children:["Name: ",this.props.user.firstname," ",this.props.user.lastname]}),Object(o.jsx)("button",{onClick:function(){return e.props.onClick(e.props.user.username)},children:"DELETE"})]})}}]),a}(s.Component),D=function(e){Object(p.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={users:[]},s.deleteTheUser=s.deleteTheUser.bind(Object(b.a)(s)),s}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/users",v.a.get("/users").then((function(e){t.setState({users:e.data})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTheUser",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="/user/"+t,v.a.delete(a).then((function(e){console.log(e.data),s.state.users.filter((function(e){return e.username!==t})),v.a.get("/users").then((function(e){s.setState({users:e.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"admin",children:[Object(o.jsx)("h1",{children:"Users"}),Object(o.jsxs)("div",{className:"users",children:[Object(o.jsx)("br",{}),this.state.users.map((function(t){return Object(o.jsx)(P,{user:t,onClick:e.deleteTheUser},t.id)}))]})]})}}]),a}(s.Component);var T=function(){var e=Object(s.useState)((function(){return""})),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)((function(){return!1})),r=Object(c.a)(i,2),l=r[0],u=r[1],d=Object(s.useState)((function(){return""})),j=Object(c.a)(d,2),m=j[0],b=j[1];function p(e,t,a){n(e),u(t),b(a)}return Object(s.useEffect)((function(){!1===l&&v.a.get("/login").then((function(e){n(e.data.username),u(e.data.loggedIn),b(e.data.userId)}))}),[l]),Object(o.jsx)(f.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(x,{uName:a,dataSetter:p.bind(this)}),Object(o.jsx)("div",{className:"content",children:Object(o.jsxs)(y.d,{children:[Object(o.jsx)(y.b,{exact:!0,path:"/",children:l?Object(o.jsx)(y.a,{to:{pathname:"/itemList",state:{id:{userId:m}}}}):Object(o.jsx)(h,{})}),Object(o.jsx)(y.b,{path:"/login",children:Object(o.jsx)(N,{name:a,id:m,log:l,dataSetter:p.bind(this)})}),Object(o.jsx)(y.b,{path:"/signup",children:Object(o.jsx)(S,{})}),Object(o.jsx)(y.b,{path:"/itemlist",children:Object(o.jsx)(k,{id:m})}),Object(o.jsx)(y.b,{path:"/search",children:Object(o.jsx)(I,{})}),Object(o.jsx)(y.b,{path:"/admin",children:Object(o.jsx)(D,{})}),Object(o.jsx)(y.b,{path:"/AddItem",children:Object(o.jsx)(L,{id:m})})]})})]})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root")),U()}},[[66,1,2]]]);
//# sourceMappingURL=main.9df7fbaf.chunk.js.map